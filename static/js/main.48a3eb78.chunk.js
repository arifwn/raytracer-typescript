(this["webpackJsonpraytracer-typescript"]=this["webpackJsonpraytracer-typescript"]||[]).push([[0],{25:function(t,e,a){t.exports=a(37)},30:function(t,e,a){},35:function(t,e,a){},37:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(7),o=a.n(r),c=(a(30),a(52)),h=a(6),l=a(54),s=a(14),u=a(15),f=function(){function t(e){Object(s.a)(this,t),this.canvas=void 0,this.context=void 0,this.canvas=e,this.context=null===e||void 0===e?void 0:e.getContext("2d")}return Object(u.a)(t,[{key:"dimension",value:function(){return{width:this.canvas.width,height:this.canvas.height}}},{key:"fill",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(this.context){var r=this.context.fillStyle;i&&(this.context.fillStyle=i),this.context.fillRect(t,e,null==a?this.canvas.width:a,null==n?this.canvas.height:n),this.context.fillStyle=r}}},{key:"at",value:function(t,e,a){this.fill(t,e,1,1,a)}}]),t}(),v={white:"#ffffff",black:"#000000",sky:"#2196f3",highlight:"#b71c1c"},d=function(){function t(e){Object(s.a)(this,t),this.drawer=void 0,this.colors=v,this.camera={x:0,y:0,z:200,rx:0,ry:0,rz:0,fov:Math.PI/2},this.tileWidth=30,e&&(this.drawer=e)}return Object(u.a)(t,[{key:"execute",value:function(){var t=this.drawer;if(t)for(var e=t.dimension(),a=this.camera.fov,n={x:this.camera.x,y:this.camera.y,z:this.camera.z},i=0;i<e.height;i++)for(var r=0;r<e.width;r++){var o=-a/2+r*(a/e.width),c=a/2-i*(a/e.height);t.at(r,i,this.rayPixel(n,{rx:this.camera.rx+c,ry:this.camera.ry+0,rz:this.camera.rz+o}))}}},{key:"rayPixel",value:function(t,e){var a=this.shoot(t,e);if(Math.abs(a.x)==1/0)return this.colors.sky;if(Math.abs(a.y)==1/0)return this.colors.sky;if(Math.abs(a.z)==1/0)return this.colors.sky;if(0==a.z){var n=!1;return Math.abs(Math.floor(a.x%(2*this.tileWidth)))<this.tileWidth&&Math.abs(Math.floor(a.y%(2*this.tileWidth)))<this.tileWidth&&(n=!0),Math.abs(Math.floor(a.x%(2*this.tileWidth)))>=this.tileWidth&&Math.abs(Math.floor(a.y%(2*this.tileWidth)))>=this.tileWidth&&(n=!0),a.x<0&&(n=!n),n?this.colors.black:this.colors.white}return this.colors.white}},{key:"shoot",value:function(t,e){if(e.rx>0&&e.rx<Math.PI)return{x:0,y:1/0,z:1/0};t.z,Math.cos(Math.PI/2-e.rx);var a=t.z/Math.tan(-e.rx),n=t.y+Math.cos(e.rz)*a,i=t.x+Math.sin(e.rz)*a;return{x:isNaN(i)||Math.abs(i)>1e3?1/0:i,y:isNaN(n)||Math.abs(n)>1e3?1/0:n,z:0}}}]),t}();var m=function(t){if(!t)return null;var e=new f(t);return new d(e)},b=Object(c.a)((function(t){return{root:{position:"relative"},renderedImageContainer:{marginLeft:"auto",marginRight:"auto"}}}));var y=function(t){t.siteSetting,t.design,t.topBannerShown;var e=b(),a=Object(n.useRef)(null),r=Object(n.useState)(512),o=Object(h.a)(r,2),c=o[0],s=(o[1],Object(n.useState)(512)),u=Object(h.a)(s,2),f=u[0],v=(u[1],Object(n.useState)(0)),d=Object(h.a)(v,2),y=d[0],x=d[1],g=Object(n.useState)(0),k=Object(h.a)(g,2),w=k[0],j=k[1],M=Object(n.useState)(100),O=Object(h.a)(M,2),E=O[0],z=O[1],p=Object(n.useState)(0),C=Object(h.a)(p,2),S=C[0],W=C[1],R=Object(n.useState)(0),I=Object(h.a)(R,2),N=I[0],P=I[1];return Object(n.useEffect)((function(){var t=m(a.current);t&&(t.camera={x:y,y:w,z:E,rx:S,ry:0,rz:N,fov:Math.PI/4},t.execute())})),i.a.createElement("div",{className:e.root},i.a.createElement("div",{className:e.renderedImageContainer,style:{width:c,height:f,zoom:1}},i.a.createElement("canvas",{width:c,height:f,ref:a}),i.a.createElement("div",null,i.a.createElement(l.a,{onClick:function(){return x(y-10)}},"Left"),i.a.createElement(l.a,{onClick:function(){return j(w+10)}},"Front"),i.a.createElement(l.a,{onClick:function(){return j(w-10)}},"Back"),i.a.createElement(l.a,{onClick:function(){return j(y+10)}},"Right")),i.a.createElement("div",null,i.a.createElement(l.a,{onClick:function(){return P(N-.1)}},"Rt Left"),i.a.createElement(l.a,{onClick:function(){return P(N+.1)}},"Rt Right"),i.a.createElement(l.a,{onClick:function(){return W(S+.1)}},"Rt Up"),i.a.createElement(l.a,{onClick:function(){return W(S-.1)}},"Rt Down"),i.a.createElement(l.a,{onClick:function(){return z(E+10)}},"Top"),i.a.createElement(l.a,{onClick:function(){return z(E-10)}},"Bottom"))))},x=(a(35),a(36),Object(c.a)((function(t){return{root:{flexGrow:1,backgroundColor:"#ffffff"}}})));var g=function(){var t=x();return i.a.createElement("div",{className:t.root},i.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.48a3eb78.chunk.js.map